#@TYPE: Machine
#@NAME: mt7688
#@DESCRIPTION: MIPS 32r2, Little Endian, Soft Float

require conf/machine/include/qemu.inc
require conf/machine/include/qemuboot-mips.inc
require conf/machine/include/mips/tune-mips-24k.inc

DEFAULTTUNE = "mips32r2el-24kc"

MACHINE_FEATURES = "wifi serial"
MACHINE_EXTRA_RRECOMMENDS = " kernel-modules kernel-devicetree"

PREFERRED_PROVIDER_virtual/kernel = "linux-yocto-dev"

KERNEL_CLASSES += "kernel-fitimage"
KERNEL_IMAGETYPE ?= "fitImage"

KERNEL_DEVICETREE_mt7688 = "gardena_smart_gateway_mt7688.dtb"

# used by sysvinit_2 and systemd
SERIAL_CONSOLES ?= "115200;ttyS0"

PREFERRED_VERSION_u-boot = "v2019.01-rc2-mt7688-2018-12-18-gardena"
PREFERRED_VERSION_u-boot-fw-utils = "v2019.01-rc2-mt7688-2018-12-18-gardena"
UBOOT_CONFIG ??= "rom"
UBOOT_CONFIG[rom] = "gardena-smart-gateway-mt7688_defconfig"
UBOOT_ENTRYPOINT="0x80000400"
UBOOT_LOADADDRESS="0x80000000"

RADIO_MODULE_PPP_TTY = "/dev/ttyS1"
